# VFS Shell Emulator

> –í–∞—Ä–∏–∞–Ω—Ç 3
> –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ (shell), —Ä–∞–±–æ—Ç–∞—é—â–∞—è –ø–æ–≤–µ—Ä—Ö **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã** (VFS) –Ω–∞ –æ—Å–Ω–æ–≤–µ `.zip`-–∞—Ä—Ö–∏–≤–∞.  
> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã, —Å–∫—Ä–∏–ø—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî –≤—Å—ë, –∫–∞–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ üíª

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–†–∞–±–æ—Ç–∞ —Å **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π** –≤ `.zip`  
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞** –∏ **—Ä–µ–∂–∏–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤**  
–û–±—Ä–∞–±–æ—Ç–∫–∞ **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** (`$VAR_NAME`)  
–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤–ª—è–π —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã!  
–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-------------|
| `cd` | –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º |
| `ls` | –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ |
| `echo` | –≤—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ |
| `uniq` | –≤—ã–≤–æ–¥ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `whoami` | –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `exit` | –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É |

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    project/
    ‚îÇ
    ‚îú‚îÄ‚îÄ main.py # –ì–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
    ‚îÇ
    ‚îú‚îÄ‚îÄ command_handlers/ # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
    ‚îÇ ‚îú‚îÄ‚îÄ init.py
    ‚îÇ ‚îú‚îÄ‚îÄ command.py # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Command
    ‚îÇ ‚îú‚îÄ‚îÄ cd.py # –ö–æ–º–∞–Ω–¥–∞ cd
    ‚îÇ ‚îú‚îÄ‚îÄ ls.py # –ö–æ–º–∞–Ω–¥–∞ ls
    ‚îÇ ‚îú‚îÄ‚îÄ echo.py # –ö–æ–º–∞–Ω–¥–∞ echo
    ‚îÇ ‚îú‚îÄ‚îÄ uniq.py # –ö–æ–º–∞–Ω–¥–∞ uniq
    ‚îÇ ‚îú‚îÄ‚îÄ whoami.py # –ö–æ–º–∞–Ω–¥–∞ whoami
    ‚îÇ ‚îú‚îÄ‚îÄ exit.py # –ö–æ–º–∞–Ω–¥–∞ exit
    ‚îÇ
    ‚îú‚îÄ‚îÄ vfs/
    ‚îÇ ‚îî‚îÄ‚îÄ disk.zip # –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∞—Ä—Ö–∏–≤)
    ‚îÇ
    ‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ test.script # –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞
    ‚îî‚îÄ‚îÄ test1.script # –ï—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä


---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python **3.8+**
- –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (`os`, `sys`, `zipfile`, `getpass`, `abc`)

### 2Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
git clone https://github.com/username/vfs-shell.git
cd vfs-shell
```

## 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ

```bash
python3 main.py ./vfs/disk.zip
```

### üìü –ü—Ä–∏–º–µ—Ä:
```bash
disk> ls
üìÅhome üìÅbin üìÑreadme.txt
disk> cd home
disk/home> echo –ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!
–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!
```

### üìú –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
    
    –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ .script:
    
    python3 main.py ./vfs/disk.zip ./scripts/test.script ./scripts/test1.script
    
    –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–∞–∫ –±—É–¥—Ç–æ –≤—ã –∏—Ö –≤–≤–æ–¥–∏–ª–∏ –≤—Ä—É—á–Ω—É—é.
    
    –ï—Å–ª–∏ –≤ —Å–∫—Ä–∏–ø—Ç–µ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –æ–Ω–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
    
    errors in script: unknown_command bad_cmd

### üí° –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ $VAR_NAME.

```bash
export GREETING="echo Hello World"
python3 main.py ./vfs/disk.zip
disk> $GREETING
Hello World
```

### üß† –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞

#### –§–∞–π–ª scripts/test.script:
```bash
echo –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∞
ls
cd home
ls
whoami
uniq apple apple banana
cd ..
exit
```
#### –í—ã–≤–æ–¥:

```bash
–ò–º—è —Å–∫—Ä–∏–ø—Ç–∞: main.py
–ò–º—è VFS: ./vfs/disk.zip
–ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã: ./scripts/test.script

disk> echo –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∞
–ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∞
disk> ls
üìÅhome üìÅbin üìÑreadme.txt
disk> cd home
disk/home> ls
üìÅuser
disk/home> whoami
user
disk/home> uniq apple apple banana
apple banana
disk/home> cd ..
disk> exit
```

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
üîπ Command (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)

    –û–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ command.py

    –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–∞ (self.all_members)

    –ò–º–µ–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ handle(args)

üîπ –ö–æ–º–∞–Ω–¥—ã

–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –Ω–∞—Å–ª–µ–¥—É–µ—Ç Command –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç handle:

```python
class Echo(Command):
    def handle(self, args=[]):
        print(*args)
        return self.current_path
```
üîπ main.py

    –†–∞–∑–±–∏—Ä–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

    –ó–∞–≥—Ä—É–∂–∞–µ—Ç VFS (zipfile)

    –°—á–∏—Ç—ã–≤–∞–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã

    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ

‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

    –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ:
    
    unknown cmd: test
    
    –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ:
    
    errors in script: test wrong
    
    –û—à–∏–±–∫–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∞—Ä—Ö–∏–≤–∞:

    Error reading tar file: <—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏>

### üîö –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

–ö–æ–º–∞–Ω–¥–∞:

```bash
exit
```

–∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –±–µ–∑ –æ—à–∏–±–æ–∫.
